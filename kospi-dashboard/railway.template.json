{
  "$schema": "https://railway.app/railway.schema.json",
  "name": "KOSPI Monitoring Dashboard",
  "description": "ì‹¤ì‹œê°„ KOSPI ì‹œì¥ ì§€í‘œ ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ - 10ëŒ€ í•µì‹¬ ì§€í‘œ ìë™ ìˆ˜ì§‘ ë° ì´ë©”ì¼ ì•Œë¦¼",
  "icon": "ğŸ“Š",
  "tags": [
    "nextjs",
    "prisma",
    "postgresql",
    "typescript",
    "monitoring"
  ],
  "services": [
    {
      "name": "kospi-dashboard",
      "source": {
        "repo": "dataofmen/kospi-dashboard"
      },
      "build": {
        "builder": "nixpacks",
        "buildCommand": "npm install && npx prisma generate && npm run build"
      },
      "deploy": {
        "startCommand": "npx prisma migrate deploy && npm run start",
        "restartPolicyType": "on_failure",
        "restartPolicyMaxRetries": 10,
        "healthcheckPath": "/",
        "healthcheckTimeout": 100
      },
      "env": {
        "FRED_API_KEY": {
          "description": "FRED (Federal Reserve Economic Data) API Key - https://fred.stlouisfed.org/docs/api/api_key.html",
          "required": true
        },
        "EXIM_API_KEY": {
          "description": "í•œêµ­ìˆ˜ì¶œì…ì€í–‰ í™˜ìœ¨ API ì¸ì¦í‚¤ - https://www.koreaexim.go.kr/site/program/openapi/openApiInfo?menuid=001003002002001",
          "required": true
        },
        "ADMIN_PASSWORD": {
          "description": "ê´€ë¦¬ì íŒ¨ë„ ì ‘ì† ë¹„ë°€ë²ˆí˜¸ (/admin)",
          "required": true,
          "default": "kospi2025"
        },
        "RESEND_API_KEY": {
          "description": "Resend ì´ë©”ì¼ API í‚¤ - https://resend.com/api-keys",
          "required": true
        },
        "RESEND_FROM_EMAIL": {
          "description": "ë°œì‹  ì´ë©”ì¼ ì£¼ì†Œ (Resendì—ì„œ ì¸ì¦ëœ ë„ë©”ì¸)",
          "required": false,
          "default": "KOSPI Monitor <onboarding@resend.dev>"
        },
        "NODE_ENV": {
          "description": "Node í™˜ê²½",
          "required": false,
          "default": "production"
        },
        "NEXT_PUBLIC_APP_URL": {
          "description": "ì•± URL (ìë™ ì„¤ì •ë¨)",
          "required": false
        }
      }
    },
    {
      "name": "postgres",
      "type": "postgresql"
    }
  ],
  "connections": [
    {
      "from": "kospi-dashboard",
      "to": "postgres",
      "envName": "DATABASE_URL"
    }
  ]
}
